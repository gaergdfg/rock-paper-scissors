{"version":3,"sources":["sites/join-game.js","model/game.js","cookie-manager.js","sites/join-room.js","context/color-context.js","sites/main.js","App.js","reportWebVitals.js","index.js","connections/socket.js"],"names":["socket","require","JoinGame","props","gameid","userName","isHost","idData","gameId","emit","JoinGameRoom","useParams","style","textAlign","port","process","PORT","url","URL","Game","state","host","choiceHost","choiceGuest","scoreHost","scoreGuest","console","log","this","choice","React","Component","GameWrapper","useState","setOpponentSocketId","opponentDidJoinTheGame","didJoinGame","opponentUserName","setUserName","gameSessionDoesNotExist","doesntExist","useEffect","on","statusUpdate","mySocketId","id","alert","myUserName","socketId","data","Fragment","display","marginTop","String","window","innerHeight","marginLeft","innerWidth","width","height","onFocus","event","target","select","value","type","readOnly","cookies","Cookies","axios","JoinRoom","didGetUserName","username","inputEmail","inputPassword","inputText","typingEmail","typedText","email","current","setState","typingPassword","password","typingUserName","textArea","createRef","ref","onInput","className","disabled","length","onClick","post","hubUrl","passwordHash","sha1","then","response","set","path","catch","err","ColorContext","createContext","didRedirect","playerDidRedirect","playerDidNotRedirect","CreateNewGame","send","newGameRoomId","uuid","to","Main","color","useContext","App","setDidRedirect","useCallback","Provider","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","io","status"],"mappings":"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","file":"static/js/main.8d7f6b15.chunk.js","sourcesContent":["import React from 'react'\nimport { useParams } from 'react-router-dom'\n\nconst socket  = require('../connections/socket').socket;\n\n/**\n * 'Join game' is where we actually join the game room. \n */\n\n\nconst JoinGameRoom = (gameid, userName, isHost) => {\n\t/**\n\t * For this browser instance, we want \n\t * to join it to a gameRoom. For now\n\t * assume that the game room exists \n\t * on the backend. \n\t *  \n\t * \n\t * TODO: handle the case when the game room doesn't exist. \n\t */\n\tconst idData = {\n\t\tgameId : gameid,\n\t\tuserName : userName,\n\t\tisHost: isHost\n\t};\n\tsocket.emit(\"playerJoinGame\", idData);\n}\n\n\nconst JoinGame = (props) => {\n\t/**\n\t * Extract the 'gameId' from the URL. \n\t * the 'gameId' is the gameRoom ID. \n\t */\n\tconst { gameid } = useParams();\n\tJoinGameRoom(gameid, props.userName, props.isHost);\n\n\treturn <div>\n\t\t<h1 style = {{textAlign: \"center\"}}>Rock, paper, scissors</h1>\n\t</div>\n}\n\nexport default JoinGame;\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst socket = require('../connections/socket').socket;\n\nconst port = process.env.PORT || 8000;\nconst url = process.env.URL || `localhost:${port}`;\n// const url = 'https://game-nexus-rps.herokuapp.com';\n\n\nclass Game extends React.Component {\n\tstate = {\n\t\thost: this.props.isHost,\n\n\t\tchoiceHost: -1,\n\t\tchoiceGuest: -1,\n\n\t\tscoreHost: 0,\n\t\tscoreGuest: 0\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log('props:', this.props);\n\t\tconsole.log(this.state);\n\t}\n\n\t/**\n\t * Passes information about player's choice to the game.\n\t * @param {boolean} isHost \n\t * @param {0|1|2} choice (0 - rock), (1 - paper), (2 - scissors).\n\t */\n\tchoose(isHost, choice) {\n\t\tif (isHost)\n\t\t\tthis.choiceHost = choice;\n\t\telse\n\t\t\tthis.choiceGuest = choice;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\tSuch game, much wow.\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst GameWrapper = (props) => {\n\t/**\n\t * player 1\n\t *      - socketId 1\n\t *      - socketId 2 ???\n\t * player 2\n\t *      - socketId 2\n\t *      - socketId 1\n\t */\n\n\n\n\t// const color = React.useContext(ColorContext);\n\tconst { gameid } = useParams();\n\tconst [opponentSocketId, setOpponentSocketId] = React.useState('');\n\tconst [opponentDidJoinTheGame, didJoinGame] = React.useState(false);\n\tconst [opponentUserName, setUserName] = React.useState('');\n\tconst [gameSessionDoesNotExist, doesntExist] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tsocket.on(\"playerJoinedRoom\", statusUpdate => {\n\t\t\tconsole.log(\n\t\t\t\t\"A new player has joined the room! Username: \" +\n\t\t\t\tstatusUpdate.userName + \", Game id: \" + statusUpdate.gameId + \" Socket id: \" + statusUpdate.mySocketId\n\t\t\t);\n\t\t\tif (socket.id !== statusUpdate.mySocketId) {\n\t\t\t\tsetOpponentSocketId(statusUpdate.mySocketId);\n\t\t\t}\n\t\t})\n\n\t\tsocket.on(\"status\", statusUpdate => {\n\t\t\tconsole.log(statusUpdate);\n\t\t\talert(statusUpdate);\n\t\t\tif (statusUpdate === 'This game session does not exist.' || statusUpdate === 'There are already 2 people playing in this room.') {\n\t\t\t\tdoesntExist(true);\n\t\t\t}\n\t\t})\n\t\t\n\n\t\tsocket.on('start game', (opponentUserName) => {\n\t\t\tconsole.log(\"START!\");\n\t\t\tif (opponentUserName !== props.myUserName) {\n\t\t\t\tsetUserName(opponentUserName);\n\t\t\t\tdidJoinGame(true);\n\t\t\t} else {\n\t\t\t\t// in chessGame, pass opponentUserName as a prop and label it as the enemy. \n\t\t\t\t// in chessGame, use reactContext to get your own userName\n\t\t\t\t// socket.emit('myUserName')\n\t\t\t\tsocket.emit('request username', gameid);\n\t\t\t}\n\t\t})\n\n\n\t\tsocket.on('give userName', (socketId) => {\n\t\t\tif (socket.id !== socketId) {\n\t\t\t\tconsole.log(\"give userName stage: \" + props.myUserName);\n\t\t\t\tsocket.emit('recieved userName', {userName: props.myUserName, gameId: gameid});\n\t\t\t}\n\t\t})\n\n\t\tsocket.on('get Opponent UserName', (data) => {\n\t\t\tif (socket.id !== data.socketId) {\n\t\t\t\tsetUserName(data.userName);\n\t\t\t\tconsole.log('data.socketId: data.socketId');\n\t\t\t\tsetOpponentSocketId(data.socketId);\n\t\t\t\tdidJoinGame(true);\n\t\t\t}\n\t\t})\n\t}, []);\n\n\n\treturn (\n\t\t<React.Fragment>\n\t\t{opponentDidJoinTheGame ? (\n\t\t\t<div>\n\t\t\t<h4> Opponent: {opponentUserName} </h4>\n\t\t\t<div style={{ display: \"flex\" }}>\n\t\t\t\t<Game gameId={gameid}/>\n\t\t\t</div>\n\t\t\t<h4> You: {props.myUserName} </h4>\n\t\t\t</div>\n\t\t) : gameSessionDoesNotExist ? (\n\t\t\t<div>\n\t\t\t<h1 style={{ textAlign: \"center\", marginTop: \"200px\" }}> :( </h1>\n\t\t\t</div>\n\t\t) : (\n\t\t\t<div>\n\t\t\t<h1\n\t\t\t\tstyle={{\n\t\t\t\ttextAlign: \"center\",\n\t\t\t\tmarginTop: String(window.innerHeight / 8) + \"px\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tHey <strong>{props.myUserName}</strong>, copy and paste the URL\n\t\t\t\tbelow to send to your friend:\n\t\t\t</h1>\n\t\t\t<textarea\n\t\t\t\tstyle={{ marginLeft: String((window.innerWidth / 2) - 290) + \"px\", marginTop: \"30px\", width: \"580px\", height: \"30px\"}}\n\t\t\t\tonFocus={(event) => {\n\t\t\t\t\tevent.target.select();\n\t\t\t\t}}\n\t\t\t\tvalue = {url + \"/game/\" + gameid}\n\t\t\t\ttype = \"text\"\n\t\t\t\treadOnly = {true}>\n\t\t\t\t</textarea>\n\t\t\t<br></br>\n\n\t\t\t<h1 style={{ textAlign: \"center\", marginTop: \"100px\" }}>\n\t\t\t\t{\" \"}\n\t\t\t\tWaiting for other opponent to join the game...{\" \"}\n\t\t\t</h1>\n\t\t\t</div>\n\t\t)}\n\t\t</React.Fragment>\n\t);\n};\n\nexport default GameWrapper\n","import Cookies from 'universal-cookie';\nconst cookies = new Cookies();\nexport {cookies};\n","import React from 'react';\nimport JoinGame from './join-game';\nimport Game from '../model/game';\nimport sha1 from 'sha1';\nimport { cookies } from '../cookie-manager';\n\nconst axios = require('axios');\n\n\nconst hubUrl = 'https://game-nexus.herokuapp.com';\n\n\n/**\n * Onboard is where we create the game room.\n */\n\nclass JoinRoom extends React.Component {\n\tstate = {\n\t\tdidGetUserName: false,\n\t\tusername: '',\n\t\tinputEmail: '',\n\t\tinputPassword: '',\n\t\tinputText: ''\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.email = React.createRef();\n\t\tthis.password = React.createRef();\n\n\t\tthis.textArea = React.createRef();\n\t}\n\n\ttypingEmail = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.email.current.value\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputEmail: typedText\n\t\t})\n\t}\n\n\ttypingPassword = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.password.current.value\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputPassword: typedText\n\t\t})\n\t}\n\n\ttypingUserName = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.textArea.current.value\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputText: typedText\n\t\t})\n\t}\n\n    render() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t{\n\t\t\t\tthis.state.didGetUserName ? \n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<JoinGame userName = {this.state.username} isHost = {false}/>\n\t\t\t\t\t<Game myUserName = {this.state.username} isHost = {false}/>\n\t\t\t\t</React.Fragment>\n\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t<h1 style={{textAlign: \"center\", marginTop: String((window.innerHeight / 3)) + \"px\"}}>Log in:</h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tref={this.email}\n\t\t\t\t\t\tonInput={this.typingEmail}></input>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tref={this.password}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonInput={this.typingPassword}></input>\n\n\t\t\t\t\t<button className=\"btn btn-primary\" \n\t\t\t\t\t\tstyle = {{marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tdisabled = {!(this.state.inputEmail.length > 0 && this.state.inputPassword.length > 0)} \n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\tconsole.log('logging in');\n\t\t\t\t\t\t\taxios.post(hubUrl + 'api/v1/validate/', {\n\t\t\t\t\t\t\t\temail: this.state.inputEmail,\n\t\t\t\t\t\t\t\tpasswordHash: sha1(this.state.inputPassword)\n\t\t\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\t\t\tconsole.log('got response:', response);\n\t\t\t\t\t\t\t\tcookies.set('username', response.username, { path: '/' });\n\t\t\t\t\t\t\t\t// TODO: remove this cookie right as the game ends\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tusername: response.username,\n\t\t\t\t\t\t\t\t\tdidGetUserName: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\talert('Invalid credentials!');\n\t\t\t\t\t\t\t\tconsole.log('got error:', err);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}>Submit</button>\n\n\n\t\t\t\t\t<h1 style={{textAlign: \"center\", marginTop: String((window.innerHeight / 3)) + \"px\"}}>Play as guest:</h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tref = {this.textArea}\n\t\t\t\t\t\tonInput = {this.typingUserName}></input>\n\n\t\t\t\t\t<button className=\"btn btn-primary\" \n\t\t\t\t\t\tstyle = {{marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tdisabled = {!(this.state.inputText.length > 0)} \n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\t// When the 'Submit' button gets pressed from the username screen,\n\t\t\t\t\t\t\t// We should send a request to the server to create a new room with\n\t\t\t\t\t\t\t// the uuid we generate here.\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tusername: this.state.inputText,\n\t\t\t\t\t\t\t\tdidGetUserName: true\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}>Submit</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n    }\n}\n\nexport default JoinRoom;\n","import { createContext } from 'react'\n\nexport const ColorContext = createContext({\n    didRedirect: false, \n    playerDidRedirect: () => {}, \n    playerDidNotRedirect: () => {}\n});\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport uuid from 'uuid/v4';\nimport { ColorContext } from '../context/color-context';\nimport sha1 from 'sha1';\nimport { cookies } from '../cookie-manager';\n\nconst socket = require('../connections/socket').socket;\nconst axios = require('axios');\n\n\nconst hubUrl = 'https://game-nexus.herokuapp.com/';\n\n/**\n * Main is where we create the game room.\n */\n\nclass CreateNewGame extends React.Component {\n\tstate = {\n\t\tdidGetUserName: false,\n\t\tinputEmail: '',\n\t\tinputPassword: '',\n\t\tinputText: '',\n\t\tgameId: ''\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.email = React.createRef();\n\t\tthis.password = React.createRef();\n\n\t\tthis.textArea = React.createRef();\n\t}\n\n\tsend = () => {\n\t\t/**\n\t\t * This method should create a new room in the '/' namespace\n\t\t * with a unique identifier. \n\t\t */\n\t\tconst newGameRoomId = uuid();\n\n\t\t// set the state of this component with the gameId so that we can\n\t\t// redirect the user to that URL later. \n\t\tthis.setState({\n\t\t\tgameId: newGameRoomId\n\t\t});\n\n\t\t// emit an event to the server to create a new room \n\t\tsocket.emit('createNewGame', newGameRoomId);\n\t}\n\n\ttypingEmail = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.email.current.value\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputEmail: typedText\n\t\t})\n\t}\n\n\ttypingPassword = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.password.current.value\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputPassword: typedText\n\t\t})\n\t}\n\n\ttypingUserName = () => {\n\t\t// grab the input text from the field from the DOM \n\t\tconst typedText = this.textArea.current.value;\n\t\t\n\t\t// set the state with that text\n\t\tthis.setState({\n\t\t\tinputText: typedText\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t{\n\t\t\t\tthis.state.didGetUserName ?\n\t\t\t\t<Redirect to = {\"/game/\" + this.state.gameId}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-success\"\n\t\t\t\t\t\tstyle = {{marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\"}}\n\t\t\t\t\t>Start Game</button> \n\t\t\t\t</Redirect>\n\n\t\t\t:\n\n\t\t\t\t<div>\n\t\t\t\t\t<h1 style={{textAlign: \"center\", marginTop: String((window.innerHeight / 3)) + \"px\"}}>Log in:</h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tref = {this.email}\n\t\t\t\t\t\tonInput = {this.typingEmail}></input>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tref = {this.password}\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonInput = {this.typingPassword}></input>\n\n\t\t\t\t\t<button className=\"btn btn-primary\" \n\t\t\t\t\t\tstyle = {{marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\"}} \n\t\t\t\t\t\tdisabled = {!(this.state.inputEmail.length > 0 && this.state.inputPassword.length > 0)} \n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\tconsole.log('logging in');\n\t\t\t\t\t\t\taxios.post(hubUrl + 'api/v1/validate/', {\n\t\t\t\t\t\t\t\temail: this.state.inputEmail,\n\t\t\t\t\t\t\t\tpasswordHash: sha1(this.state.inputPassword)\n\t\t\t\t\t\t\t}).then(response => {\n\t\t\t\t\t\t\t\tconsole.log('got response:', response);\n\t\t\t\t\t\t\t\tcookies.set('username', response.username, { path: '/' });\n\t\t\t\t\t\t\t\t// TODO: remove this cookie right as the game ends\n\t\t\t\t\t\t\t\tthis.props.didRedirect();\n\t\t\t\t\t\t\t\tthis.props.setUserName(response.username);\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tdidGetUserName: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.send();\n\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\talert('Invalid credentials!');\n\t\t\t\t\t\t\t\tconsole.log('got error:', err);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}}>Submit</button>\n\n\t\t\t\t\t<h1 style={{textAlign: \"center\", marginTop: String((window.innerHeight / 3)) + \"px\"}}>Play as guest:</h1>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\tstyle={{marginLeft: String((window.innerWidth / 2) - 120) + \"px\", width: \"240px\", marginTop: \"62px\"}}\n\t\t\t\t\t\tref = {this.textArea}\n\t\t\t\t\t\tonInput = {this.typingUserName}></input>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\t\tstyle = {{marginLeft: String((window.innerWidth / 2) - 60) + \"px\", width: \"120px\", marginTop: \"62px\"}}\n\t\t\t\t\t\tdisabled = {!(this.state.inputText.length > 0)}\n\t\t\t\t\t\tonClick = {() => {\n\t\t\t\t\t\t\t// When the 'Submit' button gets pressed from the username screen,\n\t\t\t\t\t\t\t// We should send a request to the server to create a new room with\n\t\t\t\t\t\t\t// the uuid we generate here.\n\t\t\t\t\t\t\tthis.props.didRedirect();\n\t\t\t\t\t\t\tthis.props.setUserName(this.state.inputText);\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tdidGetUserName: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.send();\n\t\t\t\t\t\t}}>Submit</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst Main = (props) => {\n    const color = React.useContext(ColorContext);\n\n    return <CreateNewGame didRedirect = {color.playerDidRedirect} setUserName = {props.setUserName}/>\n}\n\n\nexport default Main;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Redirect, Switch } from 'react-router-dom';\nimport JoinRoom from './sites/join-room'\nimport { ColorContext } from './context/color-context'\nimport Main from './sites/main'\nimport JoinGame from './sites/join-game'\nimport Game from './model/game'\n\n/*\n *  Frontend flow: \n * \n * 1. user first opens this app in the browser. \n * 2. a screen appears asking the user to send their friend their game URL to start the game.\n * 3. the user sends their friend their game URL\n * 4. the user clicks the 'start' button and waits for the other player to join. \n * 5. As soon as the other player joins, the game starts. \n * \n * \n * Other player flow:\n * 1. user gets the link sent by their friend\n * 2. user clicks on the link and it redirects to their game. If the 'host' has not yet \n *    clicked the 'start' button yet, the user will wait for when the host clicks the start button.  \n *    If the host decides to leave before they click on the \"start\" button, the user will be notified\n *    that the host has ended the session. \n * 3. Once the host clicks the start button or the start button was already clicked on\n *    before, that's when the game starts. \n * Onboarding screen =====> Game start. \n * \n * Every time a user opens our site from the '/' path, a new game instance is automatically created\n * on the back-end. We should generate the uuid on the frontend, send the request with the uuid\n * as a part of the body of the request. If any player leaves, then the other player wins automatically.  \n * \n */\n\n\nfunction App() {\n\tconst [didRedirect, setDidRedirect] = React.useState(false);\n\n\tconst playerDidRedirect = React.useCallback(() => {\n\t\tsetDidRedirect(true);\n\t}, []);\n\n\tconst playerDidNotRedirect = React.useCallback(() => {\n\t\tsetDidRedirect(false);\n\t}, []);\n\n\tconst [userName, setUserName] = React.useState('');\n\n\treturn (\n\t<ColorContext.Provider value = {{didRedirect: didRedirect, playerDidRedirect: playerDidRedirect, playerDidNotRedirect: playerDidNotRedirect}}>\n\t\t<Router>\n\t\t<Switch>\n\t\t\t<Route path = \"/\" exact>\n\t\t\t\t<Main setUserName = {setUserName}/>\n\t\t\t</Route>\n\t\t\t<Route path = \"/game/:gameid\" exact>\n\t\t\t\t{didRedirect ? \n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<JoinGame userName = {userName} isHost = {true} />\n\t\t\t\t\t<Game myUserName = {userName} isHost = {true} />\n\t\t\t\t</React.Fragment>\n\t\t\t\t:\n\t\t\t\t<JoinRoom />}\n\t\t\t</Route>\n\t\t\t<Redirect to = \"/\" />\n\t\t</Switch>\n\t\t</Router>\n\t</ColorContext.Provider>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import io from 'socket.io-client';\n\nconst port = process.env.PORT || 8000;\nconst url = process.env.URL || `localhost:${port}`;\n// const url = 'https://game-nexus-rps.herokuapp.com';\n\nconst socket = io(url);\n\nlet mySocketId;\n\nsocket.on('createNewGame', status => {\n\tconsole.log(\"A new game has been created! Username: \" + status.userName + \", Game id: \" + status.gameId + \" Socket id: \" + status.mySocketId);\n\tmySocketId = status.mySocketId;\n})\n\nexport {\n\tsocket,\n\tmySocketId\n};\n"],"sourceRoot":""}